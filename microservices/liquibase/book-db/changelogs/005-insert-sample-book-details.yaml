databaseChangeLog:
  - changeSet:
      id: 005-insert-sample-book-details
      author: wujciak
      changes:
        - insert:
            tableName: book_details
            columns:
              - column:
                  name: book_details_id
                  valueComputed: gen_random_uuid()
              - column:
                  name: book_id
                  valueComputed: (SELECT book_id FROM books WHERE isbn = '978-0-13-595705-9')
              - column:
                  name: genre
                  value: "Programming"
              - column:
                  name: summary
                  value: "A comprehensive guide to writing clean, maintainable code that follows best practices and principles of agile software development."
              - column:
                  name: cover_image_url
                  value: "https://images-na.ssl-images-amazon.com/images/I/515iEcDr1GL._SX385_BO1,204,203,200_.jpg"
        - insert:
            tableName: book_details
            columns:
              - column:
                  name: book_details_id
                  valueComputed: gen_random_uuid()
              - column:
                  name: book_id
                  valueComputed: (SELECT book_id FROM books WHERE isbn = '978-0-321-12742-6')
              - column:
                  name: genre
                  value: "Software Engineering"
              - column:
                  name: summary
                  value: "The classic book on design patterns that provides reusable solutions to common problems in object-oriented design."
              - column:
                  name: cover_image_url
                  value: "https://images-na.ssl-images-amazon.com/images/I/51szD9HC9pL._SX395_BO1,204,203,200_.jpg"
        - insert:
            tableName: book_details
            columns:
              - column:
                  name: book_details_id
                  valueComputed: gen_random_uuid()
              - column:
                  name: book_id
                  valueComputed: (SELECT book_id FROM books WHERE isbn = '978-0-596-52068-7')
              - column:
                  name: genre
                  value: "Programming"
              - column:
                  name: summary
                  value: "A fun and engaging way to learn design patterns through real-world examples and brain-friendly explanations."
              - column:
                  name: cover_image_url
                  value: "https://images-na.ssl-images-amazon.com/images/I/61APhXCksuL._SX430_BO1,204,203,200_.jpg"
      rollback:
        - delete:
            tableName: book_details
            where: book_id IN (SELECT book_id FROM books WHERE isbn IN ('978-0-13-595705-9', '978-0-321-12742-6', '978-0-596-52068-7'))
